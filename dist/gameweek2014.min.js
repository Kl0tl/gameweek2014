require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(){}var d=b.exports={};d.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.on=c,d.once=c,d.off=c,d.emit=c,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;g>i;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return 0>b&&(b=a.length+b),a.substr(b,c)}}).call(this,a("/Users/kl0tl/dev/gameweek2014/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/kl0tl/dev/gameweek2014/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":1}],game:[function(a,b){b.exports=a("HPsMKw")},{}],HPsMKw:[function(a,b,c){"use strict";var d,e,f;d=a("./loaders").AssetsLoader,e=a("./loaders").ImagesLoader,f=a("./loaders").JsonLoader,c.loader=new d("/assets").when(/\.(?:png|jpg)$/,new e).when(/\.json$/,new f)},{"./loaders":9}],5:[function(a){"use strict";var b,c,d,e;b=a("game"),c=a("./nuclear_modules/game.transform"),d=a("./nuclear_modules/game.rendering"),e=a("./nuclear_modules/game.animations"),b.loader.load(["atlases/prinny.atlas.png","atlases/prinny.atlas.json","animations/prinny/prinny@dancing.json"]).done(function(){var a;nuclear.import([c,d,e]),console.log("modules loaded!"),a=nuclear.entity.create(),nuclear.component("sprite").add(a,50,50),nuclear.component("atlas").add(a,"prinny"),nuclear.component("animations").add(a,{target:"prinny",animations:["dancing"],defaultAnimation:"dancing"}),nuclear.system.context={dests:[document.getElementById("screen").getContext("2d")]},window.requestAnimationFrame(function b(){window.requestAnimationFrame(b),nuclear.system.run()})}).progress(console.log.bind(console,"bundle progress"))},{"./nuclear_modules/game.animations":12,"./nuclear_modules/game.rendering":16,"./nuclear_modules/game.transform":19,game:"HPsMKw"}],6:[function(a,b){"use strict";function c(a){function b(a){return function(){var b,d;for(b=0;d=a[b];b+=1)d.apply(c,arguments)}}var c;c=this,c.assets=[],c._loadListeners=[],c._errorListeners=[],c._progressListeners=[],a.call(this,b(c._loadListeners),b(c._errorListeners),b(c._progressListeners))}c.prototype.done=function(a){return this._loadListeners.push(a),this},c.prototype.error=function(a){return this._errorListeners.push(a),this},c.prototype.progress=function(a){return this._progressListeners.push(a),this},b.exports=c},{}],7:[function(a,b){"use strict";function c(a){this.basePath=a||"/",this.cache=Object.create(null),this.rules=[]}var d,e;d=a("./assets-bundle"),e=a("path"),c.prototype.get=function(a){return this.cache[a]},c.prototype.has=function(a){return a in this.cache},c.prototype.when=function(a,b){return this.rules.push({pattern:a,loader:b}),this},c.prototype.load=function(a){var b;return b=this,new d(function(c,d,f){function g(a,d){return function(){var e;e=this,b.cache[a]=e,h.assets[d]=e,i+=1,f&&f(this,i/j),i===j&&c()}}var h,i,j,k,l,m,n,o;for(h=this,i=0,j=a.length,j||c(),k=0;j>k;k+=1)if(l=a[k],m=b.get(l))g(l,k).call(m);else for(n=0;o=b.rules[n];n+=1)o.pattern.test(l)&&o.loader.load(e.join(b.basePath,l),g(l,k),d)})},b.exports=c},{"./assets-bundle":6,path:2}],8:[function(a,b){"use strict";function c(){}c.prototype.load=function(a,b,c){var d=new Image;d.onload=b,d.onerror=c,d.src=a},b.exports=c},{}],9:[function(a,b,c){"use strict";c.AssetsLoader=a("./assets-loader"),c.ImagesLoader=a("./images-loader"),c.JsonLoader=a("./json-loader")},{"./assets-loader":7,"./images-loader":8,"./json-loader":10}],10:[function(a,b){"use strict";function c(){}c.prototype.load=function(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.onreadystatechange=function(){if(!(d.readyState<4))if(200===d.status)try{b.call(JSON.parse(d.responseText))}catch(a){c(a)}else c(d)},d.send()},b.exports=c},{}],11:[function(a,b){"use strict";function c(a){var b,c,f,g;for(this.animations=Object.create(null),c=a.animations.length,b=0;c>b;b+=1)f=a.animations[b],g=d.get(e.join("/assets","animations",a.target,a.target+"@"+f+".json")),this.animations[f]=g;this.defaultAnimation=a.defaultAnimation||"idle",this.currentAnimation=this.defaultAnimation,this.currentFrame=0,this.loop=Boolean(a&&a.loop),this.timeElapsedSinceLastFrame=0}var d,e;d=a("game").loader,e=a("path"),b.exports=c},{game:"HPsMKw",path:2}],12:[function(a,b){"use strict";var c;c=a("./components/animations-component"),b.exports=nuclear.module("game.animations",["game.rendering"]).component("animations",function(a,b){return new c(b)}).system("animate",["sprite from game.rendering","atlas from game.rendering","animations from game.animations"],a("./systems/animate-system"))},{"./components/animations-component":11,"./systems/animate-system":13}],13:[function(a,b){"use strict";b.exports=function(a,b,c,d){var e,f,g,h,i;e=b.atlas,f=b.sprite,g=b.animations,h=g.animations[g.currentAnimation],g.timeElapsedSinceLastFrame+=d,g.timeElapsedSinceLastFrame>h.interval&&(g.currentFrame+=1,g.timeElapsedSinceLastFrame-=h.interval,g.currentFrame>h.frames.length&&(g.currentFrame=0,g.loop||(g.currentAnimation=h=g.defaultAnimation)),i=e.sprites[h.frames[g.currentFrame]].frame,f.context.drawImage(e.source,i.x,i.y,i.w,i.h,0,0,f.width(),f.height()))}},{}],14:[function(a,b){"use strict";function c(a){this.source=e.get(d.join("/assets","atlases",a+".atlas.png")),this.sprites=e.get(d.join("/assets","atlases",a+".atlas.json"))}var d,e;d=a("path"),e=a("game").loader,b.exports=c},{game:"HPsMKw",path:2}],15:[function(a,b){"use strict";function c(a,b,c){this.buffer=document.createElement("canvas"),this.context=this.buffer.getContext("2d"),this.dest=c||0,this.buffer.width=a,this.buffer.height=b}var d;d=a("game").loader,c.prototype.width=function(a){return 0===arguments.length?this.buffer.width:(this.buffer.width=a,this)},c.prototype.height=function(a){return 0===arguments.length?this.buffer.height:(this.buffer.height=a,this)},b.exports=c},{game:"HPsMKw"}],16:[function(a,b){"use strict";var c,d;c=a("./components/atlas-component"),d=a("./components/sprite-component"),b.exports=nuclear.module("game.rendering",[]).component("atlas",function(a,b){return new c(b)}).component("sprite",function(a,b){return new d(b)}).system("renderer",["sprite from game.rendering","position from game.transform"],a("./systems/renderer-system"))},{"./components/atlas-component":14,"./components/sprite-component":15,"./systems/renderer-system":17}],17:[function(a,b){"use strict";b.exports=function(a,b,c){var d,e,f,g,h;d=b.sprite,e=b.position,f=c.dests[d.dest],g=d.width(),h=d.height(),f.drawImage(d.buffer,e.x-.5*g,e.y-.5*h,g,h)}},{}],18:[function(a,b){"use strict";function c(a,b){this.x=a,this.y=b}b.exports=c},{}],19:[function(a,b){"use strict";var c;c=a("./components/position-component"),b.exports=nuclear.module("game.transform",[]).component("position",function(a,b,d){return new c(b,d)})},{"./components/position-component":18}]},{},[5]);